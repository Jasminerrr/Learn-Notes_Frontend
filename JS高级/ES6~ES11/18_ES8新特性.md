# 1. async和await（重要 案例js/03）
1. async和await两种语法结合可以让异步代码像同步代码一样；
2. 为了异步编程的解决方案；
3. 如何体现异步：只要有一个await语句后的Promise对象是reject，那么整个async函数都会中断执行；
# 2. async函数
1. 声明：在函数前面加上 async，则表示为async函数；
2. 返回结果是一个Promise实例对象，对象状态由函数的执行结果决定：
   1. 如果返回结果是 非Promise类型的对象，则返回的结果为成功的Promise对象；
   2. 如果返回结果是 promise对象，则这个对象决定返回的结果：
      1. 对象是成功状态，则函数也成功，返回结果就是对象成功的值；
      2. 对象是失败状态，则函数也失败，返回结果就是对象失败的值；
   3. 抛出错误：则返回的结果是一个失败的Promise，值为抛出的值； 
   ```
    async function fn(){
        return new Promise((resolve,reject)=>{
            // resolve('成功');
            reject('失败');
        })
    }
    const result = fn();
    console.log(result);
    result.then(
        (value)=>{
            console.log(value);
    },(reason)=>{
        console.log(reason);// 失败
    });
   ```
# 3. await表达式
1. await关键字必须写在async函数中；
2. await右侧的表达式一般为promise对象；
3. await返回的是promise成功的值；
    ```
   // (1)await返回的是promise成功的值
    const p = new Promise((resolve,reject)=>{
        resolve('成功');
    })
    // await要放在 async函数中
    async function main(){
        let result = await p;
        console.log(result);// 成功
    }
    // 调用函数
    main();
   ```
4. await的promise失败了，则会抛出异常，需要通过try...catch捕获处理；
   ```
    const p = new Promise((resolve,reject)=>{
        reject('失败');
    })
    // await要放在 async函数中
    async function main(){
        try {
            let result = await p;
        console.log(result);// 成功
        } catch (error) {
            console.log(error);
        }
    }
    // 调用函数
    main();
   ```
# 4. 对象方法扩展
## 4.1 Object.values和Object.entries
1. Object.values()方法返回一个 对象的所有可枚举属性值的数组；
2. Object.entries()方法返回一个 对象自身可遍历属性[key,value]的数组；
   ```
    // 声明对象
     const obj = {
         name:'Bob',
         age:18,
         sex:'男'
     }
     // 获取对象所有的键
     console.log(Object.keys(obj));
     // 获取对象所有的值
     console.log(Object.values(obj));
     console.log(Object.entries(obj));
     // 创建Map
     const m = new Map(Object.entries(obj));
     console.log(m);
   ```
## 4.2 Object.getOwnPropertyDescriptors
1. 该方法返回指定对象所有自身属性的描述对象；
   ```
    // 声明对象
    const obj = {
        name:'Bob',
        age:18,
        sex:'男'
    }
    // 对象属性的描述对象
    console.log(Object.getOwnPropertyDescriptors(obj));
    const obj2 = Object.create(null,{
        name:{
            // 设置值
            value:'我是值',
            // 属性特性
            writable:true,
            configurable:true,
            enumerable:true
        }
    })
    console.log(Object.getOwnPropertyDescriptors(obj2));// 返回的是name对象
   ```
   

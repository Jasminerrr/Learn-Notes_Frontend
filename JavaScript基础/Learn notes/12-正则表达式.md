## 1. 正则表达式概述
1. 正则表达式(Regular Expression)：是用于匹配字符串中字符组合的模式；在JS中，正则表达式也是对象；
2. 作用：通常被用来检索、替换那些符合某个模式（规则）的文本，例如：
   1. 验证表单：用户名表单只能输入英文字母、数字或下划线，称输入框中可以输入中文(匹配)；
   2. 过滤掉页面内容中的一些敏感词(替换)；
   3. 字符串中获取我们想要的特定部分(提取)；
3. 特点：
   1. 灵活性、逻辑性和功能性非常的强；
   2. 可以迅速地用极简单的方式达到字符串的复杂控制；
   3. 对于刚接触的人来说，比较晦涩难懂。比如： ^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$；
   4. 实际开发,一般都是直接复制写好的正则表达式. 但是要求会使用正则表达式并且根据实际情况修改正则表达式.   比如用户名:   /^[a-z0-9_-]{3,16}$/；
## 2. 创建正则表达式
1. 正则表达式里面不需要加引号，不管是数字型还是字符串型；
2. 通过调用 RegExp 对象的构造函数创建：
   ```
   var 变量名 = new RegExp(/表达式/); 
   ```
3. 通过字面量创建:(推荐)
   ```
   var 变量名 = /表达式/; // 表达式里面不需要加引号，注释中间放表达式就是正则字面量
   ```

### 2.1 测试正则表达式 test
   1. test() 正则对象方法，用于检测字符串是否符合该规则，该对象会返回 true 或 false，其参数是测试字符串;
   2. 语法：regexObj.test(str) 
      1. regexObj 是写的正则表达式；
      2. str 我们要测试的文本；
      3. 检测str文本是否符合我们写的正则表达式规范；
   3. 菜鸟工具在线测试: https://c.runoob.com/；
   ```
   var rg = /123/;
   console.log(rg.test(123));// true
   console.log(rg.test('abc'));// false
   ```
### 2.2 使用RegExp对象的exec()方法
   1. 直接调用即可。如果匹配到字符串返回一个数组；如果没有匹配到返回null；
   ```
   var re1=new RegExp("\w{2}");
   var res1=re1.exec("要检索的字符串");
   ```
## 3. 正则表达式中的特殊字符
### 3.1 正则表达式的组成
   1. 由简单的字符构成，比如 /abc/；
   2. 简单和特殊字符的组合，比如 /ab*c/（其中特殊字符也被称为元字符，在正则表达式中是具有特殊意义的专用符号，如 ^ 、$ 、+、 * 等）；
   3. 特殊字符非常多，可以参考：
      1. MDN：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions；
      2. jQuery 手册：正则表达式部分；
      3. 正则测试工具: http://tool.oschina.net/regex；
### 3.2 边界符
   1. 正则表达式中的边界符（位置符）用来提示字符所处的位置，主要有两个字符：
      1. ^ ：表示匹配行首的文本（以谁开始）；
      2. $ ：表示匹配行尾的文本（以谁结束）；
   2. 如果 ^ 和 $ 在一起，表示必须是精确匹配；
   ```
    var rg = /abc/; // 只要包含abc字符串返回都是true
    console.log(rg.test('abc'));// true
    console.log(rg.test('abcd'));// true
    console.log(rg.test('aabc'));// true
    console.log('----------------');
    var reg = /^abc/;
    console.log(reg.test('abc'));// true
    console.log(reg.test('abcd'));// true
    console.log(reg.test('aabc'));// false
    console.log('----------------');
    var reg1 = /^abc$/;// 精确匹配 要求必须abc字符串才符号规范
    console.log(reg1.test('abc'));// true
    console.log(reg1.test('abcd'));// false
    console.log(reg1.test('aabc'));// false
    console.log(reg1.test('abcabc'));// false
   ```
### 3.3 字符类
   1. 方括号：[] 只要包含其中任意一个字符，都返回 true；
   ```
    // 只要包含abc中任意一个，返回都是true
    var rg = /[abc]/; 
    console.log(rg.test('baby'));// true
    console.log(rg.test('andy'));// true
    console.log(rg.test('red'));// false
    console.log('----------------');
    // 精确三选一，只能是abc其中一个，才返回true
    var reg = /^[abc]$/;
    console.log(reg.test('a'));// true
    console.log(reg.test('b'));// true
    console.log(reg.test('aa'));// false
    console.log(reg.test('abc'));// false
   ```
   2. 方括号内部 范围符：[-] 表示范围；
   ```
    // 只能是26个字母中任意一个，返回都是true
    var rg = /^[a-z]$/; 
    console.log(rg.test('a'));// true
    console.log(rg.test('z'));// true
    console.log(rg.test('A'));// false
   ```
   3. 字符组合；/^[]$/ 多选一
   ```
    // 26个英文字母(大写和小写都可以)、数字0-9、_、- 必须为其中一个返回 true  
    var reg1 = /^[a-zA-Z0-9_-]$/; 
    console.log(reg1.test('a'));// true
    console.log(reg1.test('-'));// true
    console.log(reg1.test('_'));// true
    console.log(reg1.test('!'));// false
   ```
   4. 取反符：中括号里面有 ^ ；
   ```
    // 如果中括号里面有^ 表示取反的意思 千万和 我们边界符 ^ 别混淆
    var reg2 = /^[^a-zA-Z0-9_-]$/;
    console.log(reg2.test('a'));// false
    console.log(reg2.test('!'));// true
   ```
   5. 正则里面的或者符号为：| ；
   ```
   // 座机号码验证：全国座机号 两种格式：010-12345678 或者 0530-1234567
   // 正则里面的或者符号为：| 
   var reg = /^\d{3}-\d{8}|\d{4}-\d{7}$/;
   ```
### 3.4 量词类
   1. 用来设定某个模式出现的次数: *、+、?、{n}、{n,}、{n,m}；
   2. {n,m} 中间不能有空格；
   3. var reg = /^abc{3}$/; 这样写这是让 c 重复三次，只有abccc 才返回true；（大括号最前面的字符重复）
   ```
    var reg = /^a$/;

    // (1) * 相当于 >= 0：可以出现0次或者很多次 
    var reg = /^a*$/;
    console.log(reg.test(''));// true
    console.log(reg.test('a'));// true

    // (2) + 相当于 >= 1：可以出现1次或者很多次
    var reg = /^a+$/;
    console.log(reg.test('')); // false
    console.log(reg.test('a')); // true
    console.log(reg.test('aaaa')); // true

    // (3) ?  相当于 1 || 0：重复0或1次
    var reg = /^a?$/;
    console.log(reg.test('')); // true
    console.log(reg.test('a')); // true
    console.log(reg.test('aaaa')); // false

    // (4) {3}：重复3次
    var reg = /^a{3}$/;
    console.log(reg.test('')); // false
    console.log(reg.test('a')); // false
    console.log(reg.test('aaa')); // true

    // (5) {3,}  大于等于3
    var reg = /^a{3,}$/;
    console.log(reg.test('')); // false
    console.log(reg.test('aaa')); // true

    // (6) {3,16}  大于等于3 并且 小于等于16
    var reg = /^a{3,16}$/;
    console.log(reg.test('')); // false
    console.log(reg.test('a')); // false
    console.log(reg.test('aaaa')); // true
   ```
   4. 用户名验证：
   ```
    // 这个模式用户输入英文字母 数字 下划线 短横线，可以重复6-16次
    var reg = /^[a-zA-Z0-9_-]{6,16}$/; 
    console.log(reg.test('andy-red'));// true
    console.log(reg.test('andy_red'));// true
    console.log(reg.test('andy007'));// true
    console.log(reg.test('andy!007'));// false
   ```
### 3.5 小括号表示优先级
```
   // 让abc重复三次
    var reg = /^(abc){3}$/;
    console.log(reg.test('abcabcabc'));// true
    console.log(reg.test('abc'));// false
```
### 3.6 预定义类：某些常见模式的简写方式
   1. \d：匹配0-9之间的任一数字，相当于[0-9]；
   2. \D：匹配0-9以外的所有字符，相当于[^0-9]；
   3. \w：匹配任意的字母、数字和下划线，相当于[A-Za-z0-9_]；
   4. \W：匹配除字母、数字和下划线以外的所有字符，相当于[^A-Za-z0-9_]；
   5. \s：匹配空格（包括换行符、制表符、空格符等），相当于[\t\r\n\v\f]；
   6. \S：匹配非空格的字符，相当于[^\t\r\n\v\f]；
## 4. 正则表达式中的替换
### 4.1 replace替换
   1. replace()方法：可以实现替换字符串操作，用来替换的参数可以是一个字符串或是一个正则表达式；
   2. 语法：stringObject.replace(regexp/substr,replacement);
      1. regexp/substr：被替换的字符串或正则表达式；
      2. replacement：替换为的字符串；
      3. 返回值是一个替换完毕的新字符串；
      4. 只能替换第一个满足条件的字符串；
   ```
   // (1) 替换字符串
   var str = 'andy和red';
   var newStr = str.replace('andy', 'baby'); // 字符串
   // var newStr = str.replace(/andy/, 'baby');// 正则表达式
   console.log(newStr);

   // (2) 替换正则表达式
   <textarea name="" id="message"></textarea> <button>提交</button>
   <div></div>
   <script>
       var text = document.querySelector('textarea');
       var btn = document.querySelector('button');
       var div = document.querySelector('div');
       btn.onclick = function () {
           // 点击按钮，下面div盒子里面的内容为替换后返回的新字符串
           div.innerHTML = text.value.replace(/激情/, '**');
       }
   </script>
   ``` 
### 4.2 正则表达式参数
   1. 语法：/表达式/[switch]；
   2. switch(也称为修饰符) 按照什么样的模式来匹配，有三种值：
      1. g：全局匹配；(全局下所有敏感词，)
      2. i：忽略大小写 ；
      3. gi：全局匹配 + 忽略大小写；
      4. 多个敏感词用 | 分割；
   ```
   div.innerHTML = text.value.replace(/激情|屁/g, '**');
   ```

